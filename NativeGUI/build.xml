<!-- Ant makefile for NativeGUI.jar for Windows distribution -->
<!-- This file assumes Micro-Manager project tree structure      -->

<project name="NativeGUI" default="buildNativeGUI">

	<!-- Specify the system path to the ImageJ root directory -->
	<property name="ImageJPath" value="/Program Files/ImageJ"/>
	<property name="InstallRoot" value="../Install/micro-manager"/>
	<property name="NativeRoot" value="../MMCoreJ_wrap"/>

	<!-- Do not modify from this point on -->
	<property name="MMPluginDir" value="${ImageJPath}/plugins/Micro-Manager"/>
	<property name="IJ" value="../classext/ij.jar"/>
	<property name="BinRoot" value="../bin"/>

	<target name="buildNativeGUI" description="Compile NativeGUI.">
		<copy file="NativeGUIstub.java" tofile="NativeGUI.java" />
		<javac srcdir="." destdir="." optimize="on" source="1.5" target="1.5" debug="on">
			<include name="NativeGUI.java"/>
		</javac>
		<jar destfile="NativeGUI.jar" basedir="." includes="org/**" />	
		<mkdir dir="${MMPluginDir}" />
		<copy file="NativeGUI.jar" todir="${MMPluginDir}" />
	</target>

	<target name="cleanNativeGUI" description="Delete the NativeGUI build files.">
		<delete file="NativeGUI.java" />
		<delete file="NativeGUI.jar"/>
		<delete file="org/micromanager/nativegui/NativeGUI.class"/>
	</target>
	

	<target name="installNativeGUI" description="Install the NativeGUI files">
		<copy file="NativeGUI.jar" todir="${InstallRoot}/plugins/Micro-Manager/" />
	</target>


</project>
