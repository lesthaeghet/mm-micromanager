<!-- Ant makefile for the HCT plugin  -->
<!-- This file assumes Micro-Manager project tree structure -->

<project name="hcs" default="buildHCS">

	<!-- Specify the system path to the ImageJ root directory -->
	<property name="InstallRoot" value="C:/projects/micromanager1.4.10/Install_AllPlatforms/micro-manager"/>

	<!-- Do not modify from this point on -->
	<property name="MMCoreJ" value="../../micromanager1.4.10/bin_x64/MMCoreJ.jar"/>
	<property name="MMJ" value="../../micromanager1.4.10/mmstudio/MMJ_.jar"/>
	<property name="MMPluginDir-inst" value="${InstallRoot}/mmplugins"/>
	<property name="Runtime" value="../../micromanager1.4.10/bin_x64"/>
   <property name="PluginName" value="hcs100x"/>
	<property name="installImage" value="../../micromanager2/install_win32/micro-manager"/>

	<path id="project.class.path">
		<pathelement location="${MMCoreJ}" />
	    <pathelement location="${MMJ}"/>
	</path>

	<target name="compileHCS" description="Compile HCT plugins.">
		<mkdir dir="build" />
		<javac srcdir="." destdir="./build" optimize="on" source="1.5" debug="on">
			<classpath refid="project.class.path" />
		</javac>
	</target>

	<target name="buildHCS" description="Build hcs100x.jar">

		<jar jarfile="${PluginName}.jar" basedir="build" />
		
		<mkdir dir="${MMPluginDir-inst}" />
		<mkdir dir="${Runtime}" />
		<copy file="${PluginName}.jar" todir="${Runtime}" />
		<copy file="${PluginName}.jar" todir="${MMPluginDir-inst}/" />
	</target>
	
	<target name="cleanHCS" description="Delete the hcs100x build files.">
		<delete dir="build" />
		<delete file="${PluginName}.jar" />
	</target>
	
</project>